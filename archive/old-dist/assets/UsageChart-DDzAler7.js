import{r as b,j as d}from"./index-UkIvKgPy.js";function T({data:i,type:u="line",title:v,height:j=200}){const f=b.useRef(null);b.useEffect(()=>{if(!f.current||!i||i.length===0)return;const n=f.current,e=n.getContext("2d"),t=n.width,a=n.height;e.clearRect(0,0,t,a),u==="line"?y(e,i,t,a):u==="bar"&&E(e,i,t,a)},[i,u]);const y=(n,e,t,a)=>{const h=t-80,p=a-80,m=Math.max(...e.map(s=>s.value)),g=Math.min(...e.map(s=>s.value)),l=m-g||1;n.strokeStyle="#e5e7eb",n.lineWidth=1,n.beginPath(),n.moveTo(40,40),n.lineTo(40,a-40),n.lineTo(t-40,a-40),n.stroke(),n.strokeStyle="#14b8a6",n.lineWidth=2,n.beginPath(),e.forEach((s,o)=>{const r=40+o/(e.length-1||1)*h,c=a-40-(s.value-g)/l*p;o===0?n.moveTo(r,c):n.lineTo(r,c)}),n.stroke(),n.fillStyle="#14b8a6",e.forEach((s,o)=>{const r=40+o/(e.length-1||1)*h,c=a-40-(s.value-g)/l*p;n.beginPath(),n.arc(r,c,4,0,Math.PI*2),n.fill()})},E=(n,e,t,a)=>{const h=t-80,p=a-80,m=h/e.length-10,g=Math.max(...e.map(l=>l.value));e.forEach((l,s)=>{const o=l.value/g*p,r=40+s*(h/e.length)+5,c=a-40-o;n.fillStyle="#14b8a6",n.fillRect(r,c,m,o)})};return d.jsxs("div",{className:"usage-chart",children:[v&&d.jsx("h3",{className:"usage-chart__title",children:v}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("canvas",{ref:f,width:800,height:j,className:"usage-chart__canvas"}),(!i||i.length===0)&&d.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--dr-muted)",pointerEvents:"none"},children:d.jsx("p",{style:{margin:0,fontSize:"14px"},children:"No data available"})})]})]})}export{T as U};
